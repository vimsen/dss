#!/usr/bin/gnuplot
#set term postscript enhanced color 
#set term postscript eps enhanced monochrome size 4,2.8
# set term postscript eps enhanced color size 4,2.8 linewidth 2
set term postscript eps enhanced color size 3.5,2.62 linewidth 3
#     font 'Helvetica,20'
#set terminal epslatex color

#set size 1,1
#set key spacing 1.5
#set boxwidth 0.85
set grid y lt 0


set key top right
#set format x "%.1f"
#set logscale y
set key autotitle columnhead
set datafile separator "\t"

set xlabel "Week"

set out "genetic.eps"
set ylabel "Penalty Reduction"
set yrange [-20:120]
set xrange [0:10]


plot for [col=2:6] 'test_genetic_0_0.csv' using 1:col w lp

set out "spectral_pos_error.eps"
plot for [col=2:6] 'test_pos_error_0_0.csv' using 1:col w lp

set out "spectral_neg_error.eps"
plot for [col=2:6] 'test_neg_error_0_0.csv' using 1:col w lp

set out "spectral_pos_cons.eps"
plot for [col=2:6] 'test_pos_cons_0_0.csv' using 1:col w lp

set out "spectral_neg_cons.eps"
plot for [col=2:6] 'test_neg_cons_0_0.csv' using 1:col w lp

set out "adaptive.eps"
set key center right
plot for [col=2:6] 'test_adaptive_1_0.csv' using 1:col w lp

set key noautotitle
set out "comparison.eps"
plot \
     "test_genetic_avg.csv" using 1:2 t 'Genetic' w lp, \
     "test_adaptive_avg.csv" using 1:2 t 'Adaptive' w lp

set out "evolution.eps"
set xrange [*:*]
set yrange [0.4:1.3]
set xlabel 'Time'
set ylabel 'Fitness'
unset key

plot for [run=0:9] "smart_".run using 2:3 w l lt 1, \
     for [run=0:9] "static_".run using 2:3 w l lt 2

set out "evolution_se.eps"
set key bottom right
plot "<awk '1' smart_se" using 2:5:3:4:6:7 with xyerrorbars t 'smart' ps 0, \
     "<awk '1' static_se" using 2:5:3:4:6:7 with xyerrorbars t 'static' ps 0

set out "evolution_gen.eps"
set xlabel "Generation"
unset key
plot for [run=0:9] "smart_".run using 1:3 w l lt 1, \
     for [run=0:9] "static_".run using 1:3 w l lt 2

set out "evolution_gen_se.eps"
set key bottom right
plot "<awk '1' smart_se" using 1:5:6:7 with errorbars t 'smart' ps 0, \
     "<awk '1' static_se" using 1:5:6:7 with errorbars t 'static' ps 0




set out "neg_cons_k.eps"
set key noautotitle
set xlabel 'Kappa'
set ylabel "Penalty Reduction"
set yrange [-20:120]

set key top right
set xrange [0:10]
plot for [col=2:10] 'neg_cons_k_0.csv' using 1:col w lp t 'Cluster '.(col - 2)

set out "pos_cons_k.eps"
plot for [col=2:10] 'pos_cons_k_0.csv' using 1:col w lp t 'Cluster '.(col - 2)

set out "neg_error_k.eps"
plot for [col=2:10] 'neg_error_k_0.csv' using 1:col w lp t 'Cluster '.(col - 2)

set out "pos_error_k.eps"
plot for [col=2:10] 'pos_error_k_0.csv' using 1:col w lp t 'Cluster '.(col - 2)

set out "genetic_k.eps"
plot for [col=2:10] 'genetic_k_0.csv' using 1:col w lp t 'Cluster '.(col - 2)

set out "adaptive_k.eps"
set key center right
plot for [col=2:10] 'adaptive_k_0.csv' using 1:col w lp t 'Cluster '.(col -2)

set out "comparison_k.eps"
set key top right
set ylabel "Average penalty reduction per cluster"
plot \
     "genetic_k_avg.csv" using 1:2 t 'Genetic' w lp, \
     "pos_error_k_avg.csv" using 1:2 t 'Pesitive Error' w lp, \
     "neg_error_k_avg.csv" using 1:2 t 'Negative Error' w lp, \
     "pos_cons_k_avg.csv" using 1:2 t 'Positive Consumption' w lp, \
     "neg_cons_k_avg.csv" using 1:2 t 'Negative Consumption' w lp, \
     "adaptive_k_avg.csv" using 1:2 t 'Adaptive' w lp

set out "comparison_k_sum.eps"
set yrange [*:*]
set key bottom left
set ylabel "Total reduction in penalties payed"
plot \
     "genetic_k_tot_impr.csv" using 1:2 t 'Genetic' w lp, \
     "pos_error_k_tot_impr.csv" using 1:2 t 'Pesitive Error' w lp, \
     "neg_error_k_tot_impr.csv" using 1:2 t 'Negative Error' w lp, \
     "pos_cons_k_tot_impr.csv" using 1:2 t 'Positive Consumption' w lp, \
     "neg_cons_k_tot_impr.csv" using 1:2 t 'Negative Consumption' w lp, \
     "adaptive_k_tot_impr.csv" using 1:2 t 'Adaptive' w lp
